# FOHOW-proekt

## Проверка синтаксиса

Запустите автоматическую проверку синтаксиса JavaScript-файлов:

```bash
npm run lint
```

Скрипт выполняет `node --check` для всех файлов `.js` в проекте и завершается ошибкой, если обнаружены синтаксические проблемы.

## Доступ через Telegram

* Контент доски доступен только подписчикам Telegram-канала [@MarketingFohow](https://t.me/MarketingFohow).
* Код доступа публикуется в закреплённом сообщении канала. Внесите его в модальное окно входа.
* Чтобы изменить код, сгенерируйте новый SHA-256 хеш в файле `password-hasher.html` и добавьте его в массив `validHashes` внутри `auth.js`.

## Серверная проверка подписки через Telegram Bot API

Проект включает Node.js-сервис, который проверяет:

* валидность кода доступа (по списку SHA-256 хешей);
* подписку пользователя на канал Telegram методом [`getChatMember`](https://core.telegram.org/bots/api#getchatmember).

### Настройка окружения

1. Скопируйте файл `.env.example` в `.env` и укажите:
   * `TELEGRAM_BOT_TOKEN` — токен бота, добавленного в канал `@MarketingFohow` как администратора без прав на публикации;
   * `TELEGRAM_CHANNEL_ID` — `@username` или числовой ID канала (например, `-1001234567890`);
   * `ACCESS_CODE_HASHES` — один или несколько хешей кодов доступа из `auth.js`.
2. Установите зависимости: `npm install`.
3. Запустите сервис: `npm start` (по умолчанию порт `3000`).

После запуска фронтенд отправляет данные формы на `/api/check-subscription`. В ответ сервис возвращает одноразовый токен, который сохраняется в `sessionStorage`.

> ⚠️ Храните `.env` и токен бота только на доверенном сервере. Включите HTTPS и ограничьте доступ к логу сервера.
