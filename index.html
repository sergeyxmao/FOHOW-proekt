<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=1024">
  <title>Интерактивная доска</title>

  <script src="auth.js"></script>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  <!-- Левая панель -->
  <div class="ui-panel-left">
    <button id="undo-btn" class="ui-btn" title="Отменить (Ctrl+Z)">↶</button>
    <button id="redo-btn" class="ui-btn" title="Повторить (Ctrl+Shift+Z)">↷</button>

    <button id="save-project-btn" class="ui-btn" title="Сохранить проект (JSON)">💾</button>
    <button id="export-html-btn" class="ui-btn" title="Экспорт в HTML (просмотр)">📄</button>
    <button id="export-svg-btn" class="ui-btn" title="Экспорт в SVG (вектор)">🖋️</button>
    <button id="prepare-print-btn" class="ui-btn" title="Печать в A0 (PNG/PDF)">🖨️</button>
    <button id="load-project-btn" class="ui-btn" title="Загрузить проект из JSON">📂</button>

    <button id="notes-list-btn" class="ui-btn" title="Список заметок" disabled>🗒️</button>
    <button id="selection-mode-btn" class="ui-btn" title="Режим выделения (Esc)">⬚</button>
	<button id="hierarchical-drag-mode-btn" class="ui-btn" title="Режим иерархии">🌳</button>
	<button id="toggle-guides-btn" class="ui-btn" title="Показать/скрыть направляющие">📐</button>
    <a id="help-btn" class="ui-btn" title="Открыть инструкцию (DOCX)"
       href="Описание.docx" download="Инструкция по проекту.docx">📘</a>

    <input type="file" id="load-project-input" accept=".json,application/json" style="display:none">
  </div>

  <!-- Правая панель -->
  <div class="ui-panel-right">
    <div id="line-controls-panel" class="line-controls-panel">
      <div id="line-color-trigger" class="line-color-trigger" title="Выбрать цвет линии"></div>
      <input type="color" id="hidden-line-color-picker" value="#0f62fe" style="display:none;">
      <div class="line-controls-col">
        <label for="thickness-slider">Толщина: <span id="thickness-value">5</span>px</label>
        <input type="range" id="thickness-slider" class="thickness-slider" min="1" max="20" value="5" step="1"/>
      </div>
      <button id="apply-all-toggle" class="apply-all-btn" title="Применить ко всем линиям">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"/></svg>
      </button>
    </div>
	
    <div id="gradient-selector" class="gradient-selector">
      <div class="gradient-title">Фон</div>
      <button class="grad-btn" data-gradient="#f5f7fb" title="Светлый"></button>
      <button class="grad-btn" data-gradient="linear-gradient(135deg,#eef1f5,#dde3ea)" title="Серый"></button>
      <button id="custom-bg-btn" class="grad-btn" title="Выбрать цвет">🎨</button>
      <input type="color" id="custom-bg-input" value="#f5f7fb" style="display:none;">
    </div>
		
    <div class="row">
      <button id="add-card-btn" class="add-btn" title="Добавить карточку">□</button>
      <button id="add-large-card-btn" class="add-btn add-btn--large" title="Добавить большую карточку">⧠</button>
      <button id="add-template-btn" class="add-btn" title="Добавить шаблон">⧉</button>
    </div>
  </div>

  <div id="canvas">
    <svg id="svg-layer">
      <defs>
        <marker id="marker-dot" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="6" markerHeight="6">
          <circle cx="5" cy="5" r="4" fill="currentColor"/>
        </marker>
      </defs>
    </svg>
  </div>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  
  <script src="engine.js"></script>
  <!-- ПОДКЛЮЧАЕМ НОВЫЙ ФАЙЛ ПЕРЕД ОСНОВНЫМ СКРИПТОМ -->
  <script src="card-features.js"></script> 
  <script src="script.js"></script>
</body>
</html>